<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Past Ports - Your Daily History Journey</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                <span class="logo-icon">üìú</span>
                <h1>Past Ports</h1>
            </div>
            <div class="user-stats">
                <button class="stats-button" id="statsButton">
                    üìä Stats
                </button>
                <div class="stat">
                    <span class="stat-icon streak-icon">üî•</span>
                    <span class="stat-value" id="streak">0</span>
                </div>
                <div class="stat">
                    <span class="stat-icon">‚ù§Ô∏è</span>
                    <span class="stat-value" id="hearts">5</span>
                </div>
                <button class="profile-button" id="profileButton">
                    <span class="profile-icon">üë§</span>
                </button>
            </div>
        </header>

        <main>
            <!-- Left Sidebar -->
            <aside class="left-sidebar">
                <!-- Leaderboard Section -->
                <div class="leaderboard">
                    <h3>Active Learners This Week</h3>
                    <div class="leaderboard-list" id="leaderboardList">
                        <!-- Will be populated by JavaScript -->
                    </div>
                    <div class="leaderboard-you" id="leaderboardYou">
                        <div class="leaderboard-rank">#--</div>
                        <div class="leaderboard-info">
                            <div class="leaderboard-name">You</div>
                            <div class="leaderboard-stats">0 day streak</div>
                        </div>
                        <div class="leaderboard-score">0</div>
                    </div>
                </div>

                <!-- On This Day Section -->
                <div class="on-this-day-sidebar">
                    <h3>On This Day</h3>
                    <div class="otd-date" id="otdDateInline"></div>
                    <div class="otd-event" id="otdEventInline">Loading...</div>
                    <a href="#" class="learn-more-link" id="otdLearnMore">Learn more ‚Üí</a>
                </div>
            </aside>

            <div class="main-content">
                <section class="hero">
                    <h2>Discover American History</h2>
                    <p class="subtitle">Learn something new every day with bite-sized historical briefings</p>
                </section>

                <section class="briefing-selector">
                <h3>How deep do you want to go today?</h3>
                <p class="helper-text">Select how many historical topics you'd like to explore.</p>

                <div class="briefing-options">
                    <button class="briefing-option" data-count="1">
                        <span class="option-number">1</span>
                        <span class="option-label">Quick Dive</span>
                    </button>
                    <button class="briefing-option recommended" data-count="3">
                        <span class="option-number">3</span>
                        <span class="option-label">Daily Learn</span>
                        <span class="recommended-badge">Most Popular</span>
                    </button>
                    <button class="briefing-option" data-count="5">
                        <span class="option-number">5</span>
                        <span class="option-label">Deep Dive</span>
                    </button>
                </div>

                <button id="startButton" class="start-button" disabled>
                    Start Learning
                    <span class="button-arrow">‚Üí</span>
                </button>
            </section>
            </div>

            <!-- Right Sidebar - Why Past Ports -->
            <aside class="right-sidebar">
                <div class="why-pastport">
                    <h3>How Past Ports Works</h3>
                    <p><strong>üìö Daily Learning:</strong> Bite-sized history briefings‚Äîno doomscrolling, no overload. Just focused learning every day.</p>
                    <p><strong>üî• Streaks:</strong> Complete briefings daily to build your learning streak. Miss a day and your streak resets!</p>
                    <p><strong>‚ù§Ô∏è Hearts:</strong> Get a quiz question wrong and lose a heart. Run out and you'll need to wait for tomorrow's refresh to continue.</p>
                </div>
            </aside>
        </main>

        <section class="daily-reminder" id="dailyReminder">
            <div class="reminder-card">
                <button class="reminder-close" id="closeReminder">√ó</button>
                <span class="reminder-icon">üí°</span>
                <div class="reminder-text">
                    <strong>Daily Bonus!</strong>
                    <p>Come back tomorrow for +1 heart and to keep your streak alive! üî•</p>
                </div>
            </div>
        </section>

        <footer>
            <div class="footer-content">
                <div class="footer-links">
                    <a href="https://www.instagram.com/pastportapp" target="_blank" rel="noopener noreferrer" class="footer-link">
                        <span class="footer-icon">üì∑</span> Instagram
                    </a>
                    <a href="https://docs.google.com/forms/d/e/1FAIpQLSfL6s93T-0NW4C52WeaiV2kPfNIspxf3lI-1BjRN41FGh2qEw/viewform?usp=header" target="_blank" rel="noopener noreferrer" class="footer-link">
                        <span class="footer-icon">üí¨</span> Feedback
                    </a>
                </div>
                <p class="footer-tagline">Learn history, one day at a time</p>
                <p class="footer-copyright">¬© 2025 Past Ports. All rights reserved.</p>
            </div>
        </footer>
    </div>

    <!-- Difficulty Level Modal -->
    <div id="difficultyModal" class="modal-overlay hidden">
        <div class="modal difficulty-modal">
            <div class="modal-header">
                <h2>Choose Your Level</h2>
            </div>
            <p class="difficulty-subtitle">Select the difficulty that matches your knowledge of American history</p>

            <div class="difficulty-options">
                <button class="difficulty-card" data-level="beginner">
                    <div class="difficulty-icon">üìö</div>
                    <h3>Beginner</h3>
                    <p>Just starting your journey into American history. Questions focus on foundational events and widely known facts.</p>
                </button>

                <button class="difficulty-card" data-level="intermediate">
                    <div class="difficulty-icon">üéì</div>
                    <h3>Intermediate</h3>
                    <p>You know the basics and are ready for more. Questions explore important details and context beyond the fundamentals.</p>
                </button>

                <button class="difficulty-card" data-level="advanced">
                    <div class="difficulty-icon">üèõÔ∏è</div>
                    <h3>Advanced</h3>
                    <p>You're a history enthusiast with substantial knowledge. Questions dive into nuanced details and lesser-known aspects.</p>
                </button>
            </div>

            <div class="difficulty-note">
                <small>üí° You can change this anytime in your settings</small>
            </div>
        </div>
    </div>

    <!-- Account Creation Prompt Modal -->
    <div id="accountPromptModal" class="modal-overlay hidden">
        <div class="modal account-modal">
            <div class="modal-header">
                <h2>Create an Account?</h2>
            </div>
            <p class="account-subtitle">An account is recommended to:</p>
            <ul class="account-benefits">
                <li>üì± Sync your progress across all devices</li>
                <li>üíæ Save your streak and statistics permanently</li>
                <li>üèÜ Compete on the global leaderboard</li>
                <li>üîí Securely backup your learning history</li>
            </ul>

            <div class="account-actions">
                <button class="primary-button" id="createAccountBtn">
                    Create Account
                </button>
                <button class="secondary-button" id="continueWithoutAccountBtn">
                    Continue Without Account
                </button>
            </div>

            <p class="account-note">
                <small>You can always create an account later from your profile settings</small>
            </p>
        </div>
    </div>

    <!-- Account Sign Up Form Modal -->
    <div id="signUpModal" class="modal-overlay hidden">
        <div class="modal account-modal">
            <div class="modal-header">
                <h2>Create Your Account</h2>
                <button class="modal-close" id="closeSignUp">√ó</button>
            </div>

            <form id="signUpForm" class="signup-form">
                <div class="form-group">
                    <label>Display Name</label>
                    <input type="text" id="signupName" placeholder="Your name" required>
                </div>
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" id="signupEmail" placeholder="your.email@example.com" required>
                </div>
                <div class="form-group">
                    <label>Password</label>
                    <input type="password" id="signupPassword" placeholder="Create a password" required minlength="8">
                    <small style="color: var(--text-muted); display: block; margin-top: 4px;">At least 8 characters</small>
                </div>
                <div class="form-group">
                    <label>Confirm Password</label>
                    <input type="password" id="signupPasswordConfirm" placeholder="Confirm your password" required>
                </div>

                <button type="submit" class="primary-button" style="width: 100%; margin-top: 10px;">
                    Sign Up
                </button>
            </form>

            <p class="account-note" style="margin-top: 20px;">
                <small>Already have an account? <a href="#" id="switchToSignIn" class="switch-link">Sign In</a></small>
            </p>

            <p class="account-note" style="margin-top: 10px;">
                <small>By creating an account, you agree to our Terms of Service and Privacy Policy</small>
            </p>
        </div>
    </div>

    <!-- Sign In Modal -->
    <div id="signInModal" class="modal-overlay hidden">
        <div class="modal account-modal">
            <div class="modal-header">
                <h2>Sign In</h2>
                <button class="modal-close" id="closeSignIn">√ó</button>
            </div>

            <form id="signInForm" class="signup-form">
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" id="signinEmail" placeholder="your.email@example.com" required>
                </div>
                <div class="form-group">
                    <label>Password</label>
                    <input type="password" id="signinPassword" placeholder="Enter your password" required>
                </div>

                <button type="submit" class="primary-button" style="width: 100%; margin-top: 10px;">
                    Sign In
                </button>
            </form>

            <p class="account-note" style="margin-top: 20px;">
                <small>Don't have an account? <a href="#" id="switchToSignUp" class="switch-link">Sign Up</a></small>
            </p>

            <p class="account-note" style="margin-top: 10px;">
                <small><a href="#" id="forgotPassword" class="switch-link">Forgot your password?</a></small>
            </p>
        </div>
    </div>

    <!-- Profile Settings Modal -->
    <div id="profileModal" class="modal-overlay hidden">
        <div class="modal profile-settings-modal">
            <div class="modal-header">
                <h2>Profile Settings</h2>
                <button class="modal-close" id="closeProfile">√ó</button>
            </div>

            <div class="profile-tabs">
                <button class="profile-tab active" data-tab="personal">Personal</button>
                <button class="profile-tab" data-tab="game">Game Settings</button>
            </div>

            <!-- Personal Settings Tab -->
            <div class="profile-tab-content active" id="personalTab">
                <div class="settings-section">
                    <h3>Account Information</h3>
                    <div class="form-group">
                        <label>Display Name</label>
                        <input type="text" id="displayName" placeholder="Enter your name">
                    </div>
                    <div class="form-group">
                        <label>Email</label>
                        <input type="email" id="userEmail" placeholder="your.email@example.com">
                    </div>
                    <div class="form-group">
                        <label>Password</label>
                        <input type="password" id="userPassword" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
                    </div>
                    <button class="secondary-button" id="resetPasswordBtn">Reset Password</button>
                </div>
            </div>

            <!-- Game Settings Tab -->
            <div class="profile-tab-content hidden" id="gameTab">
                <div class="settings-section">
                    <h3>Difficulty Level</h3>
                    <p class="setting-description">Choose the difficulty that matches your knowledge of American history</p>

                    <div class="difficulty-selection">
                        <label class="difficulty-radio">
                            <input type="radio" name="difficulty" value="beginner">
                            <div class="difficulty-option">
                                <div class="difficulty-icon">üìö</div>
                                <strong>Beginner</strong>
                                <p>Foundational events and widely known facts</p>
                            </div>
                        </label>

                        <label class="difficulty-radio">
                            <input type="radio" name="difficulty" value="intermediate" checked>
                            <div class="difficulty-option">
                                <div class="difficulty-icon">üéì</div>
                                <strong>Intermediate</strong>
                                <p>Important details and context beyond fundamentals</p>
                            </div>
                        </label>

                        <label class="difficulty-radio">
                            <input type="radio" name="difficulty" value="advanced">
                            <div class="difficulty-option">
                                <div class="difficulty-icon">üèõÔ∏è</div>
                                <strong>Advanced</strong>
                                <p>Nuanced details and lesser-known aspects</p>
                            </div>
                        </label>
                    </div>
                </div>
            </div>

            <div class="profile-actions">
                <button class="primary-button" id="saveProfileBtn">Save Changes</button>
            </div>
        </div>
    </div>

    <!-- Statistics Modal -->
    <div id="statsModal" class="modal-overlay hidden">
        <div class="modal">
            <div class="modal-header">
                <h2>Your Statistics</h2>
                <button class="modal-close" id="closeStats">√ó</button>
            </div>
            <div class="stats-grid">
                <div class="stat-box">
                    <span class="stat-box-value" id="totalPlayed">0</span>
                    <span class="stat-box-label">Played</span>
                </div>
                <div class="stat-box">
                    <span class="stat-box-value" id="totalBriefings">0</span>
                    <span class="stat-box-label">Briefings</span>
                </div>
                <div class="stat-box">
                    <span class="stat-box-value" id="currentStreak">0</span>
                    <span class="stat-box-label">Streak</span>
                </div>
                <div class="stat-box">
                    <span class="stat-box-value" id="maxStreak">0</span>
                    <span class="stat-box-label">Max Streak</span>
                </div>
            </div>
            <div class="distribution">
                <h3>Briefing Distribution</h3>
                <div class="distribution-bar">
                    <span class="distribution-label">1</span>
                    <div class="distribution-track">
                        <div class="distribution-fill" id="dist1" style="width: 0%">
                            <span>0</span>
                        </div>
                    </div>
                </div>
                <div class="distribution-bar">
                    <span class="distribution-label">3</span>
                    <div class="distribution-track">
                        <div class="distribution-fill" id="dist3" style="width: 0%">
                            <span>0</span>
                        </div>
                    </div>
                </div>
                <div class="distribution-bar">
                    <span class="distribution-label">5</span>
                    <div class="distribution-track">
                        <div class="distribution-fill" id="dist5" style="width: 0%">
                            <span>0</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script type="module" src="firebase-config.js"></script>
    <script src="content.js"></script>
    <script type="module" src="app.js"></script>
</body>
</html>
